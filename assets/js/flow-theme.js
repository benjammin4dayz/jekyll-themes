var FlowTheme=function(e){"use strict";class t{static updateActiveNavButtons(e,t){const i=new IntersectionObserver((i=>{i.forEach((i=>{if(i.isIntersecting){const s=i.target.getAttribute("id");if(s){document.querySelectorAll(e).forEach((e=>{e.classList.remove(t),e.getAttribute("data-target")===s&&e.classList.add(t)}))}}}))}),{threshold:.5});document.querySelectorAll(".page").forEach((e=>{i.observe(e)}))}static lazyLoad(e,t,i){if(!(e=document.getElementById(e)))return console.error("[LazyLoad]: Element not found");let s;new IntersectionObserver(((e,r)=>{e.forEach((e=>{if(e.isIntersecting){const o=e.target;s=setTimeout((()=>{if(!i)throw new Error("[LazyLoad]: Callback function not provided");try{i()}catch(e){throw new Error(`[LazyLoad]: Callback failed: ${e}`)}r.unobserve(o),console.log("[LazyLoad]: "+o.id)}),t)}else clearTimeout(s)}))})).observe(e),console.log(`[LazyLoad]: Waiting to load ${e.id}`)}static get check(){return{currentURL:window.location.origin.split("//")[1],isMobileDevice:t._testForMobile()}}static _testForMobile(){return/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/i.test(navigator.userAgent)}}class i{constructor(e,t){this.channelId=e,this.embedTarget=t}async fetchVideoData(){return this.cache?this.cache:fetch(encodeURI("https://api.rss2json.com/v1/api.json?rss_url=https://www.youtube.com/feeds/videos.xml?channel_id="+this.channelId)).then((e=>e.json())).then((e=>{this.data=e,this.videos=e.items})).then((()=>this.videos)).catch((e=>this._throwError("noFetch")))}set videos(e){this._videos=e.map((e=>{const{title:t,pubDate:i,link:s,author:r,thumbnail:o,description:n}=e;return{title:t,pubDate:i,link:s,author:r,thumbnail:o,description:n,embed:()=>this._embedVideo(e)}}))}get videos(){return{mostRecent:this._videos[0],list:this._videos}}get cache(){let e;try{e=JSON.parse(sessionStorage.getItem(this.channelId))}catch{}return e}set channelId(e){(!e.length||"string"!=typeof e)&&this._throwError("badChannelId"),this._channelId=e}get channelId(){return this._channelId}set embedTarget(e){"string"==typeof e&&e.length?this._embedTarget=document.getElementById(e):e instanceof Element?this._embedTarget=e:console.warn("[YouTube-Embed]: Invalid embedTarget")}get embedTarget(){return this._embedTarget}set data(e){"object"!=typeof e&&this._throwError("invalidChannelData"),this._data=e}get data(){return this._data}_embedVideo(e=this.videos.mostRecent){const{link:t}=e,i=t.substr(t.indexOf("=")+1);this.embedTarget.src=`https://youtube.com/embed/${i}/?controls=0&showinfo=0&rel=0`}_cacheVideoData(){try{sessionStorage.setItem(this.channelId,JSON.stringify(this.videos))}catch{console.error("noCache")}}_throwError(e){if(e instanceof Error)throw e;throw"badChannelId"===e&&(e="Constructor argument `channelId` must be a non-empty string"),"badEmbedTarget"===e&&(e="Constructor argument `embedId` must be an Element or a non-empty string"),"noFetch"===e&&(e="An error occurred while fetching channel data"),"invalidChannelData"===e&&(e="Channel Data must be an object"),"noCache"===e&&(e="An error occurred while caching video data"),new Error(`[YouTube-Embed]: ${e}`)}}class s{constructor(){throw new ReferenceError("Not implemented yet!")}}const{lazyLoad:r}=t;return new class{constructor(){this.source="6a92351396da31b26e2d97f204f3d1a0",this.init()}init(){this._makeOverlay(),this._styleOverlay(),this._openOnKeypress("`")}spawnOverlay(){fetch(this.source).then((e=>e.json())).then((e=>{this.html=e.files["overlay.html"].content})).then((()=>{this.overlay.innerHTML=this.html,document.body.appendChild(this.overlay)})).catch((e=>console.error(`[Info-Overlay]: ${e}`)))}_makeOverlay(){const e=document.createElement("div");e.id="bnj0--overlay-main",this.overlay=e}_styleOverlay(){const{style:e}=this.overlay;e.display="flex",e.justifyContent="center",e.alignItems="center",e.position="fixed",e.zIndex="9999",e.top="0",e.bottom="0",e.left="0",e.right="0",e.minWidth="100vw",e.minHeight="100vh"}_openOnKeypress(e){document.addEventListener("keydown",(t=>t.key===e&&this.spawnOverlay()))}set source(e){this._source=`https://api.github.com/gists/${e}`}get source(){return this._source}set html(e){var t;this._html=`\`${t=e,t.replace(/<!--(.*?)-->|\s\B/gm,"")}\``}get html(){return this._html}set overlay(e){this._overlay=e}get overlay(){return this._overlay}},new class{constructor(e,t){this.headerId=e,this.modifiers=t,this.init()}init(){this.origin=this._calculateInitialPosition(),this._onScroll(this.toggleSticky)}toggleSticky(e=window.scrollY){e>this.offsetTop?this._makeSticky():this._makeClean(),e<=this.origin.top&&this._makeClean()}_calculateInitialPosition(e=this.header){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX}}get isSticky(){return!!this.header.classList.contains(this.modifiers.sticky)}_makeSticky(){this.isSticky||(this._removeClass(this.modifiers.clean),this._placeholder(!0),this._addClass(this.modifiers.sticky))}_makeClean(){this.isSticky&&(this._removeClass(this.modifiers.sticky),this._placeholder(!1),this._addClass(this.modifiers.clean))}_placeholder(e){if(e){const e=document.createElement("div");e.style.height=`${this.header.offsetHeight}px`,this.header.parentNode.insertBefore(e,this.header),this.placeholder=e}else e||this.placeholder&&(this.placeholder.parentNode.removeChild(this.placeholder),this.placeholder=null)}_onScroll(e){window.addEventListener("scroll",(()=>e.call(this)))}_addClass(e){this.header.classList.add(e)}_removeClass(e){this.header.classList.remove(e)}set headerId(e){if(e instanceof Element)return this._header=e;const t=document.getElementById(e);t?this._header=t:console.error(`[StickyHeader]: Missing element by ID ${e}`)}get header(){return this._header}get offsetTop(){return this.header.offsetTop}set origin(e){this._origin=e}get origin(){return this._origin}set modifiers(e){if(!Array.isArray(e))throw TypeError("[Sticky-Header]: Constructor opt [modifiers] must be an array of classnames where arr[0] is initial state and arr[1] is sticky");this._modifiers={clean:e[0],sticky:e[1]}}get modifiers(){return this._modifiers}}("sticky-header",["article-navigation__bar--clean","article-navigation__bar--sticky"]),t.updateActiveNavButtons(".article-navigation__button","article-navigation__button--current-anchor"),t.check.isMobileDevice||(document.documentElement.style.scrollSnapType="y mandatory",document.documentElement.style.scrollBehavior="smooth"),e.EmbedHelper=class{static get YouTube(){return i}static get Twitch(){return s}},e.lazy=r,e}({});
